{"version":3,"file":"core_frame_cache.min.js","sources":["core_frame_cache.js"],"names":["window","BX","frameCache","localStorageKey","lolalStorageTTL","compositeMessageIds","compositeDataFile","sessidWasUpdated","browser","IsIE8","localStorage","localStorageIE8","set","DoNothing","get","remove","prefix","init","this","cacheDataBase","tableParams","tableName","fields","name","unique","frameData","type","isString","frameDataString","length","onFrameDataReceived","vars","frameCacheVars","page_url","params","storageBlocks","lastReplacedBlocks","lsCache","i","messageId","message","addCustomEvent","mess","util","in_array","cache","getCompositeMessages","frameUpdateInvoked","update","frameRequestStart","ready","onCustomEvent","tryUpdateSessid","frameRequestFail","setTimeout","insertBanner","ajax","method","dataType","url","async","data","onsuccess","json","setCompositeVars","lang","hasOwnProperty","processData","block","container","ID","htmlWasInserted","contentWasProcessed","scriptsLoaded","assets","getAssets","processCSS","insertHTML","processStrings","processExternalJS","processInlineJS","callback","styles","isArray","PROPS","CSS","array_merge","load","USE_ANIMATION","style","opacity","innerHTML","CONTENT","easing","duration","start","finish","transition","makeEaseOut","transitions","quart","step","state","complete","cssText","animate","evalGlobal","inlineJS","join","result","externalJS","STRINGS","parts","processHTML","l","SCRIPT","script","isInternal","push","JS","STYLE","scripts","processRequestData","scriptsRunFirst","makeRequest","noInvoke","requestData","proxy","invokeCache","readCacheWithID","insertFromCache","handleResponse","dynamicBlocks","insertBlocks","writeCache","isManifestUpdated","CACHE_MODE","applicationCache","htmlCacheChanged","spread","Image","src","headers","value","document","referrer","JSON","stringify","PARAMS","PAGE_URL","requestURI","location","href","index","indexOf","substring","Date","getTime","timeout","skipBxHeader","onfailure","response","error","reason","xhr","status","eval","e","isNotEmptyString","redirect_url","resultSet","transaction","items","parse","blocks","fromCache","useHash","AUTO_UPDATE","skip","j","HASH","USE_BROWSER_STORAGE","writeCacheWithID","openDatabase","dataBase","displayName","capacity","version","createTable","id","content","hash","props","getRows","filter","success","res","updateRows","updateFields","fail","addRow","insertFields","banner","text","create","className","attrs","target","bgcolor","backgroundColor","toUpperCase","addClass","appendChild","body","position","children","sessid","updateSessid","inputs","getElementsByName"],"mappings":"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"}